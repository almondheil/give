<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Give: give.py File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>give.py File Reference</h1>give/take: securely offer files to another user <a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Namespaces</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html">give</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#c5ab6d287ae64501f86d452e383db24f">give::run_assist</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#e0cb953f452de23788dae4f0ee396148">give::run_copy</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#547c5b5ed0dccb74d10ad03feb9e48fd">give::fix_perms</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#4fe98397fd2ecab5044ba777d8186f73">give::isokto</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#0c37737ec71a4c7597a298a61a2d2827">give::give_file</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#82f15c255fad03a1ba99514b339da9c3">give::ungive_file</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#d3c1dce0baa4ac0609243532a1eeac31">give::take_file</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#f7bfdd7678b5aaf0d31da7a137ee5e5f">give::enumerate_files</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#e280c76d2871c5bcdcc433ce18b06b16">give::list_a_file</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#48081a0c589b69045d8c8f59b23607f2">give::list_a_directory</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#bce31a4202de893a1486862366050663">give::get_giverpw_from_dir</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#25061b8fa28f672a6170cefae31b00b6">give::list_files_given</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#05780122208c9fcc20ecbfa94da43a95">give::list_files_totake</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#ef0ab3985fea0cba533217ab9e09a0b3">give::validate_transaction</a></td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#46ce18919a7896d0755a197af5fec1f1">give::STRICT</a> = 1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#cd7ce9f032af50ea7ee34ede85a4f695">give::SPOOL</a> = &quot;/usr/givedir&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#9abfcde04e08d14b5bd0bf7c2e8897f8">give::VERSION</a> = &quot;%prog 3.0n&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#e380435120c6a41bf4db98d9a69e20d9">give::ASSIST</a> = &quot;/usr/bin/give-assist&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#79e1c0d5db74228a4d362eb7bb127677">give::COPY</a> = &quot;/bin/cp&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#9ef598fe2fa19a5f99e4940e4e9d748e">give::TOUCH</a> = &quot;/bin/touch&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">dictionary&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#b7e12f615f537a0f4be0fed82d0ffde8">give::assist_rec</a> = {}</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#642da8beee8876fa872be5c34f04759f">give::debug_mode</a> = False</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#32777c6b76824815a2a34d123f24490c">give::progname</a> = os.path.basename(sys.argv[0])</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#a43ea0802e44294e54d71efdd8cc4079">give::give_mode</a> = False</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#a43ea0802e44294e54d71efdd8cc4079">give::give_mode</a> = True</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#463106678828539549a1573fd0218fcf">give::usagestr</a> = &quot;%prog [options] &lt;user&gt; [filename]&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#d47d1a69f2e47f0345751ff1c7cae490">give::parser</a> = OptionParser(usage=<a class="el" href="namespacegive.html#463106678828539549a1573fd0218fcf">usagestr</a>, version=<a class="el" href="namespacegive.html#9abfcde04e08d14b5bd0bf7c2e8897f8">VERSION</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">list&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#44a2f2a64f0ec1e5532c4c9148d1c74d">give::who</a> = <a class="el" href="namespacegive.html#40a3acaab3904c149c5e3dcd184f874e">args</a>[0]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">list&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#40a3acaab3904c149c5e3dcd184f874e">give::args</a> = <a class="el" href="namespacegive.html#40a3acaab3904c149c5e3dcd184f874e">args</a>[1:]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#d3b9ee1efb6ec45553f7d19060d899b1">give::who</a> = None</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#de1389b4084d30731f2734a0acbc4358">give::taker_ent</a> = pwd.getpwnam(<a class="el" href="namespacegive.html#d3b9ee1efb6ec45553f7d19060d899b1">who</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#de1389b4084d30731f2734a0acbc4358">give::taker_ent</a> = pwd.getpwuid(os.getuid())</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#f39e3e1aff1ea5c660cdb0b361502ac3">give::giver_ent</a> = pwd.getpwuid(os.getuid())</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#af5dd206b134113ea3441e27c88eb69f">give::giver_ent</a> = None</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#f39e3e1aff1ea5c660cdb0b361502ac3">give::giver_ent</a> = pwd.getpwnam(<a class="el" href="namespacegive.html#d3b9ee1efb6ec45553f7d19060d899b1">who</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#f39e3e1aff1ea5c660cdb0b361502ac3">give::giver_ent</a> = get_giverpw_from_dir(<a class="el" href="namespacegive.html#d3b9ee1efb6ec45553f7d19060d899b1">who</a>, taker_ent.pw_name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#af7ab7f9b219d36af334cc2398db57a1">give::totalcount</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#f9c3f00dbc33979709ee9548a3e28dde">give::flist</a> = enumerate_files(giver_ent.pw_name, <a class="el" href="namespacegive.html#d3b9ee1efb6ec45553f7d19060d899b1">who</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#f9c3f00dbc33979709ee9548a3e28dde">give::flist</a> = enumerate_files(giver_ent.pw_name, <a class="el" href="namespacegive.html#d3b9ee1efb6ec45553f7d19060d899b1">who</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#30be94425ed68ee55625018fc4ee01ab">give::flist</a> = <a class="el" href="namespacegive.html#40a3acaab3904c149c5e3dcd184f874e">args</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#a98d6013c8e34684677b553d283e15bb">give::dlen</a> = ungive_file(giver_ent.pw_name, <a class="el" href="namespacegive.html#d3b9ee1efb6ec45553f7d19060d899b1">who</a>, fname, opts.interact)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#f9c3f00dbc33979709ee9548a3e28dde">give::flist</a> = enumerate_files(giver_ent.pw_name, <a class="el" href="namespacegive.html#d3b9ee1efb6ec45553f7d19060d899b1">who</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#30be94425ed68ee55625018fc4ee01ab">give::flist</a> = <a class="el" href="namespacegive.html#40a3acaab3904c149c5e3dcd184f874e">args</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#a98d6013c8e34684677b553d283e15bb">give::dlen</a> = give_file(giver_ent.pw_name, taker_ent.pw_name, fname, opts.interact)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#22d58cebe7b8d2de54f9cef390fd56fc">give::todo</a> = enumerate_files(<a class="el" href="namespacegive.html#d3b9ee1efb6ec45553f7d19060d899b1">who</a>, taker_ent.pw_name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#a98d6013c8e34684677b553d283e15bb">give::dlen</a> = take_file(<a class="el" href="namespacegive.html#d3b9ee1efb6ec45553f7d19060d899b1">who</a>, taker_ent.pw_name, fname, opts.interact)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#a98d6013c8e34684677b553d283e15bb">give::dlen</a> = take_file(<a class="el" href="namespacegive.html#d3b9ee1efb6ec45553f7d19060d899b1">who</a>, taker_ent.pw_name, fname, opts.interact)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegive.html#a98d6013c8e34684677b553d283e15bb">give::dlen</a> = take_file(giver_ent.pw_name, taker_ent.pw_name, fname, opts.interact)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
give/take: securely offer files to another user 
<p>
2010-05-20 Shawn Instenes &lt;<a href="mailto:shawni@llnl.gov">shawni@llnl.gov</a>&gt; last modified 2012-07 Dominic Manno &lt;<a href="mailto:dmanno@lanl.gov">dmanno@lanl.gov</a>&gt;<p>
<dl compact><dt><b>Author:</b></dt><dd>: Shawn Instenes <p>
: Trent D'Hooge <p>
: Jim Garlick <p>
: Jon Bringhurst <p>
: Dominic Manno <p>
: Ryan Day</dd></dl>
Work flow:<p>
Validate args: giver, taker, gt-&lt;taker_uid&gt;<p>
For give: Invoke give-assist &lt;taker&gt;- if it fails, we stop.<p>
Copy (with checking), filename from current directory to spool directory. Chmod destination file. Touch file (to update ctime).<p>
Opts to honor:<p>
-Vulhnrif V: version (use --version) u: ungive l: list n: compact list (not implmented in give 1.25a) r: recursive give (not imp. in give 1.25a)-- WE DO NOT YET IMPLEMENT i: interactive f: force overwrite h: help<p>
assume give- if named 'take' assume take.<p>
if invoked with no args, then list (have given, or to take).<p>
Python 2.3+ ========================================================================== <hr size="1"><address style="align: right;"><small>Generated on Tue Aug 14 12:49:31 2012 for Give by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
